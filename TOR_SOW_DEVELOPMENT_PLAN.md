# ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö TOR/SOW (Terms of Reference / Scope of Work)

## üìñ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£

‡∏£‡∏∞‡∏ö‡∏ö TOR/SOW ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö Procurement Management ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏±‡∏î‡∏à‡πâ‡∏≤‡∏á

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á TOR ‡πÅ‡∏•‡∏∞ SOW
- **TOR (Terms of Reference)**: ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê, ‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô, ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤/‡∏ß‡∏¥‡∏à‡∏±‡∏¢
- **SOW (Statement/Scope of Work)**: ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏†‡∏≤‡∏Ñ‡πÄ‡∏≠‡∏Å‡∏ä‡∏ô, ‡πÄ‡∏ô‡πâ‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô, ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡πâ‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£

## üìã ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

### Phase 1: ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö

#### 1. ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ TOR/SOW
- [ ] ‡∏®‡∏∂‡∏Å‡∏©‡∏≤ workflow ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏±‡∏î‡∏à‡πâ‡∏≤‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
- [ ] ‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ TOR/SOW ‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£
- [ ] ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó TOR/SOW:
  - ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (General Services)
  - ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤ (Consulting Services) 
  - ‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á (Construction)
  - ‡∏à‡∏±‡∏î‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Goods Procurement)
  - ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏® (IT Services)
- [ ] ‡∏Å‡∏≥‡∏´‡∏ô‡∏î User Roles ‡πÅ‡∏•‡∏∞ Permissions

#### 2. ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö Database Schema ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö TOR/SOW
```sql
-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á TOR ‡∏´‡∏•‡∏±‡∏Å
terms_of_references:
- id (PK)
- reference_number (unique)
- title
- description (longtext)
- category_id (FK)
- department_id (FK)
- created_by (FK - users)
- approver_id (FK - users)
- status (enum: draft, pending_approval, approved, rejected, closed)
- budget_min, budget_max
- start_date, end_date
- requirements (json)
- deliverables (json)
- evaluation_criteria (json)
- created_at, updated_at

-- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó TOR
tor_categories:
- id (PK)
- name
- description
- template_fields (json)
- created_at, updated_at

-- ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö TOR
tor_attachments:
- id (PK)
- terms_of_reference_id (FK)
- filename
- original_name
- file_path
- file_size
- mime_type
- uploaded_by (FK - users)
- created_at, updated_at

-- ‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ TOR
tor_approvals:
- id (PK)
- terms_of_reference_id (FK)
- approver_id (FK - users)
- status (enum: pending, approved, rejected)
- comments
- approved_at
- created_at, updated_at

-- ‡πÅ‡∏°‡πà‡πÅ‡∏ö‡∏ö TOR
tor_templates:
- id (PK)
- category_id (FK)
- name
- template_content (longtext)
- fields (json)
- is_active (boolean)
- created_by (FK - users)
- created_at, updated_at

-- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Å‡∏±‡∏ö Purchase Requisition
purchase_requisitions:
+ terms_of_reference_id (FK) - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ô‡∏µ‡πâ
```

### Phase 2: ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ Backend

#### 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Model ‡πÅ‡∏•‡∏∞ Migration ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö TOR/SOW
**Models ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á:**
- `app/Models/TermsOfReference.php`
- `app/Models/TorCategory.php`
- `app/Models/TorAttachment.php`
- `app/Models/TorApproval.php`
- `app/Models/TorTemplate.php`

**Relations:**
```php
// TermsOfReference
public function category() // belongsTo TorCategory
public function creator() // belongsTo User
public function approver() // belongsTo User
public function attachments() // hasMany TorAttachment
public function approvals() // hasMany TorApproval
public function purchaseRequisitions() // hasMany PurchaseRequisition

// PurchaseRequisition (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç existing)
public function termsOfReference() // belongsTo TermsOfReference
```

**Migrations ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á:**
- `create_tor_categories_table`
- `create_terms_of_references_table`
- `create_tor_attachments_table`
- `create_tor_approvals_table`
- `create_tor_templates_table`
- `add_terms_of_reference_id_to_purchase_requisitions_table`

#### 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á Seeders ‡πÅ‡∏•‡∏∞ Factories
- TorCategorySeeder (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó TOR ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
- TorTemplateSeeder (‡πÅ‡∏°‡πà‡πÅ‡∏ö‡∏ö TOR ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô)
- TermsOfReferenceFactory (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö testing)

### Phase 3: ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ Frontend (Filament)

#### 5. ‡∏™‡∏£‡πâ‡∏≤‡∏á Filament Resource ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ TOR/SOW
**Resources ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á:**
- `app/Filament/Resources/TermsOfReferenceResource.php`
- `app/Filament/Resources/TorCategoryResource.php`
- `app/Filament/Resources/TorTemplateResource.php`

**Form Components:**
- Rich Text Editor ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö description
- JSON Form ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö requirements ‡πÅ‡∏•‡∏∞ deliverables
- File Upload ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö attachments
- Date Range Picker ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö timeline
- Budget Range fields
- Status indicators

**Table Columns:**
- Reference number
- Title
- Category
- Status badge
- Budget range
- Created date
- Actions

**Filters:**
- Category filter
- Status filter
- Date range filter
- Creator filter

#### 6. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á TOR/SOW ‡∏Å‡∏±‡∏ö Purchase Requisition
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `PurchaseRequisitionResource`
- ‡πÄ‡∏û‡∏¥‡πà‡∏° TOR selection ‡πÉ‡∏ô form
- ‡∏™‡∏£‡πâ‡∏≤‡∏á RelationManager ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á TOR details
- ‡πÄ‡∏û‡∏¥‡πà‡∏° validation rule: ‡∏ö‡∏≤‡∏á category ‡∏Ç‡∏≠‡∏á PR ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ TOR

### Phase 4: Workflow ‡πÅ‡∏•‡∏∞ Approval

#### 7. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö Workflow ‡πÅ‡∏•‡∏∞ Approval ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö TOR/SOW
**Approval Workflow:**
1. Draft ‚Üí Pending Approval
2. Pending Approval ‚Üí Approved/Rejected
3. Approved ‚Üí Active (‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
4. Active ‚Üí Closed (‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏)

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå:**
- `app/Services/TorApprovalService.php`
- `app/Mail/TorApprovalRequest.php`
- `app/Mail/TorApproved.php`
- `app/Mail/TorRejected.php`
- `app/Notifications/TorStatusChanged.php`

**Events & Listeners:**
- `TorSubmittedForApproval` event
- `TorApproved` event
- `TorRejected` event

#### 8. ‡∏™‡∏£‡πâ‡∏≤‡∏á Templates System
- Template management interface
- Template variables system:
  - `{{project_title}}`
  - `{{budget_range}}`
  - `{{timeline}}`
  - `{{department}}`
- Template preview functionality
- Clone template to new TOR

### Phase 5: File Management

#### 9. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ô‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö TOR/SOW
**Features:**
- Multiple file upload
- File type validation (PDF, DOC, DOCX, XLS, XLSX)
- File size limits
- File versioning
- Download tracking
- Secure file access (‡∏ï‡∏≤‡∏° permissions)

**Storage Configuration:**
- ‡πÉ‡∏ä‡πâ Laravel Storage disk
- Organized folder structure: `tor/{tor_id}/attachments/`
- File naming convention: `{timestamp}_{original_name}`

### Phase 6: Reporting ‡πÅ‡∏•‡∏∞ Notifications

#### 10. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô TOR/SOW
**Notifications:**
- Email alerts ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö approval pending
- Deadline reminders
- Status change notifications
- Daily/Weekly digest

**Reports:**
- TOR status dashboard
- Usage statistics by department
- Performance metrics (approval time, etc.)
- Budget analysis
- Export functionality (PDF, Excel)

**Dashboard Widgets:**
- TOR status overview
- Pending approvals count
- Recent activities
- Upcoming deadlines

### Phase 7: Testing ‡πÅ‡∏•‡∏∞ Deployment

#### 11. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏∞‡∏ö‡∏ö TOR/SOW
**Testing Strategy:**
- Unit Tests ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Models ‡πÅ‡∏•‡∏∞ Services
- Feature Tests ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Workflows
- Browser Tests ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö UI interactions
- API Tests ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö integrations

**Test Cases:**
- TOR creation ‡πÅ‡∏•‡∏∞ validation
- Approval workflow
- File upload ‡πÅ‡∏•‡∏∞ management
- Permissions ‡πÅ‡∏•‡∏∞ access control
- Email notifications
- Report generation

## üéØ Deliverables ‡πÅ‡∏ï‡πà‡∏•‡∏∞ Phase

### Phase 1 Deliverables
- [ ] Requirements analysis document
- [ ] Database ERD diagram
- [ ] User stories ‡πÅ‡∏•‡∏∞ acceptance criteria
- [ ] Wireframes ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö UI

### Phase 2 Deliverables
- [ ] Database migrations
- [ ] Eloquent models ‡∏û‡∏£‡πâ‡∏≠‡∏° relationships
- [ ] Seeders ‡πÅ‡∏•‡∏∞ sample data
- [ ] Unit tests ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö models

### Phase 3 Deliverables
- [ ] Filament resources
- [ ] Form ‡πÅ‡∏•‡∏∞ table configurations
- [ ] UI components
- [ ] Basic CRUD functionality

### Phase 4 Deliverables
- [ ] Approval workflow system
- [ ] Email notifications
- [ ] Template management system
- [ ] Status tracking

### Phase 5 Deliverables
- [ ] File upload system
- [ ] File security ‡πÅ‡∏•‡∏∞ access control
- [ ] File versioning
- [ ] Storage management

### Phase 6 Deliverables
- [ ] Notification system
- [ ] Reporting dashboard
- [ ] Analytics ‡πÅ‡∏•‡∏∞ metrics
- [ ] Export functionality

### Phase 7 Deliverables
- [ ] Complete test suite
- [ ] User documentation
- [ ] API documentation
- [ ] Deployment guide

## üöÄ ‡∏Å‡∏≤‡∏£ Deploy ‡πÅ‡∏•‡∏∞ Go-Live

### Pre-deployment Checklist
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ô staging environment
- [ ] Training ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö users
- [ ] Data migration plan
- [ ] Backup ‡πÅ‡∏•‡∏∞ rollback plan
- [ ] Performance monitoring setup

### Go-Live Strategy
1. **Soft Launch** - ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö department ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡πà‡∏≠‡∏ô
2. **Feedback Collection** - ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏° feedback ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á
3. **Full Rollout** - ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£
4. **Post-launch Support** - ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

## üìû ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏•‡∏∞‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤ ‡πÉ‡∏´‡πâ‡πÅ‡∏à‡πâ‡∏á‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å Phase ‡πÑ‡∏´‡∏ô‡∏Å‡πà‡∏≠‡∏ô
- ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£: 4-6 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå
- Resource ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£: Developer 1 ‡∏Ñ‡∏ô, Tester 1 ‡∏Ñ‡∏ô
- Technology Stack: Laravel, Filament, MySQL, Vue.js

---
*‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠: 2025-09-09*
*‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 2025-09-09*